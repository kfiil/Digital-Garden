
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.7" name="generator"/>
<title>Project Health - Digital Garden</title>
<link href="../../assets/stylesheets/main.20d9efc8.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="light-blue" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#project-health">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Digital Garden" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Digital Garden">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Digital Garden
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Project Health
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="pink" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Digital Garden" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Digital Garden">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Digital Garden
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Digital Garden
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Decision Support Metrics
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Decision Support Metrics" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Decision Support Metrics
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Decision%20Support%20Metrics/">
        Decision Support Metrics
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Project Health
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Project Health
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#functional-requirements">
    Functional requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#numerical-requirements">
    Numerical requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sonarqube-violations-score">
    SonarQube violations score
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#potential-future-metrics">
    Potential future metrics
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Strategy and Roadmap Uncertainty
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Strategy and Roadmap Uncertainty" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Strategy and Roadmap Uncertainty
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Strategy%20and%20Roadmap%20Uncertainty/Debugging%20Teams%20-%20Groundhog%20Day%20by%20Camille%20Fournier/">
        Debugging Teams: Groundhog Day - Camille Fournier
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Strategy%20and%20Roadmap%20Uncertainty/Durable%20teams%20-%20The%20Managers%20Path%2C%20Camille%20Fournier/">
        Durable teams   The Managers Path, Camille Fournier
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Strategy%20and%20Roadmap%20Uncertainty/Guiding%20critical%20projects%20without%20micromanaging/">
        Guiding critical projects without micromanaging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Strategy%20and%20Roadmap%20Uncertainty/Strategy%20and%20Roadmap%20Uncertainty/">
        Strategy and Roadmap Uncertainty
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Strategy%20and%20Roadmap%20Uncertainty/Turning%20Domain%20Discovery%20into%20Product%20and%20Organizational%20Improvements%20with%20a%20DDD%20Exemplar/">
        Turning Domain Discovery into Product and Organizational Improvements with a DDD Exemplar
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#functional-requirements">
    Functional requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#numerical-requirements">
    Numerical requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sonarqube-violations-score">
    SonarQube violations score
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#potential-future-metrics">
    Potential future metrics
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="project-health">Project Health<a class="headerlink" href="#project-health" title="Permanent link">¶</a></h1>
<p>In order to give incentives to improve, the problematic parts needs to be measured and visualized in a good way. This page lists a set of metrics that are used to calculate which level a project is at. It is inspired by Google's old <a href="https://mike-bland.com/2011/10/18/test-certified.html">Test Certified</a> definition and more recent developments internally at Google.</p>
<h2 id="functional-requirements">Functional requirements<a class="headerlink" href="#functional-requirements" title="Permanent link">¶</a></h2>
<p>See next section for numbers referred to as X.</p>
<ul>
<li><strong>Level 1:</strong></li>
<li>Have a continuous build executing per commit</li>
<li>Measure coverage on automated tests</li>
<li><strong>Level 2:</strong></li>
<li>Establishing a written policy that essentially forbids anyone from submitting untested code</li>
<li>Require X% test coverage</li>
<li>Max X static analysis errors</li>
<li>Max execution time of all tests <span class="arithmatex">\(with code coverage enabled\)</span></li>
<li><strong>Level 3:</strong></li>
<li>Stricter limits of above metrics</li>
<li>Minimum release frequency to production</li>
<li><strong>Level 4-5:</strong></li>
<li>Stricter limits of above metrics</li>
</ul>
<p><strong>Notice:</strong> All criterias must be met to grade a project at a specific level. As soon one metric goes below, the level is reduced.</p>
<h2 id="numerical-requirements">Numerical requirements<a class="headerlink" href="#numerical-requirements" title="Permanent link">¶</a></h2>
<table>
<thead>
<tr>
<th align="left"><strong>Level</strong></th>
<th align="left"><strong>Test coverage</strong></th>
<th align="left"><strong>Test execution time <span class="arithmatex">\(all tests\)</span></strong></th>
<th align="left"><strong>SonarQube violations score <span class="arithmatex">\(weighted\)</span></strong></th>
<th align="left"><strong>Release frequency <span class="arithmatex">\(to prod\)</span></strong></th>
<th align="left"><strong>Release window allowed</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">1</td>
<td align="left">&gt;=40%</td>
<td align="left">&lt;=60 min</td>
<td align="left">2000</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">&gt;=50%</td>
<td align="left">&lt;=20min</td>
<td align="left">1000</td>
<td align="left">-</td>
<td align="left">02.00 - 05.00 CET</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">&gt;=60%</td>
<td align="left">&lt;=15min</td>
<td align="left">500</td>
<td align="left">&lt;=1 month</td>
<td align="left">02.00 - 05.00 CET</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">&gt;=70%</td>
<td align="left">&lt;=10min</td>
<td align="left">200</td>
<td align="left">&lt;=2 weeks</td>
<td align="left">02.00 - 05.00 CET, 06.00 - 08.00 CET, 14.00 - 16.00 CET</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">&gt;=80%</td>
<td align="left">&lt;=5min</td>
<td align="left">100</td>
<td align="left">&lt;=1 week</td>
<td align="left">02.00 - 05.00 CET, 06.00 - 08.00 CET, 14.00 - 16.00 CET</td>
</tr>
</tbody>
</table>
<h2 id="sonarqube-violations-score">SonarQube violations score<a class="headerlink" href="#sonarqube-violations-score" title="Permanent link">¶</a></h2>
<p>In order to give incentives for fixing the more serious violations and to account for project size, the following formula is used for SonarQube violation points:</p>
<p>score = <span class="arithmatex">\(50 \* blockers + 20 \* critical + 5 \* major + 1 \* minor + 0.5 \* info\)</span> / <span class="arithmatex">\(NLOC/1000\)</span></p>
<p><strong>Example</strong> :</p>
<p>A project with 2000 lines of code with 3 blocker, 4 critical and 10 minor violations would get a score of <span class="arithmatex">\(50\*3+20\*4+1\*10\)</span> / <span class="arithmatex">\(2000/1000\)</span> = 120 points. If the project only had 1000 lines of code, the score would be twice as high: 240.</p>
<h2 id="potential-future-metrics">Potential future metrics<a class="headerlink" href="#potential-future-metrics" title="Permanent link">¶</a></h2>
<ul>
<li><strong>Release branch cherry-picking:</strong> to measure the number of cherry-picks/hotfixes that are made to production releases <span class="arithmatex">\(i.e. patch releases\)</span>. This depends on that release branches are cut from master and that cherry-picking takes place onto such branches for hotfixes. This is not the current release managment stategy for most projects, so it needs more work to be applicable.</li>
<li><strong>Categorizing tests</strong> as "unit", "integration" or "end-to-end" and have individual coverage requirements on each. There's one downside with this however - it gives incentives of writing too many integration and end-to-end tests, which changes the test balance away from the desired one, which should be according to the "Test Pyramid": <img alt="Testing pyramid 2.0" src="https://static.wixstatic.com/media/7a4f4d_c467718df89d4d60b83f0ebcfb81178c~mv2.jpg/v1/fill/w_1000,h_916,al_c,q_90,usm_0.66_1.00_0.01/7a4f4d_c467718df89d4d60b83f0ebcfb81178c~mv2.jpg"/></li>
<li><strong>Incremental test coverage</strong> : to measure coverage per Pull request, to ensure new code is tested. If the infrastructure can provide this number, this test coverage requirement should be higher than the total absolute coverage for a project.</li>
<li><strong>Test flakiness</strong> : to have a maximum allowed % of flaky tests <span class="arithmatex">\(tests that fails sometimes, due to timing issues, poorly written code, network timeouts, etc\)</span> in each build. This requires an investment in infrastructure tooling in order to be possible to collect.</li>
</ul>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Decision Support Metrics" class="md-footer__link md-footer__link--prev" href="../Decision%20Support%20Metrics/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Decision Support Metrics
            </div>
</div>
</a>
<a aria-label="Next: Debugging Teams: Groundhog Day - Camille Fournier" class="md-footer__link md-footer__link--next" href="../../Strategy%20and%20Roadmap%20Uncertainty/Debugging%20Teams%20-%20Groundhog%20Day%20by%20Camille%20Fournier/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Debugging Teams: Groundhog Day - Camille Fournier
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.8492ddcf.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>